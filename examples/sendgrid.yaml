---
title: Weekly new users

outputs:
  sendgrid:
    plugin: sendgrid
    args:
      email_from: sender@reportcard.dev
      email_to: recipient@reportcard.dev

datasources:
  db:
    plugin: mysql
    args:
      host: mysql
      user: reportcard
      passwd: reportcard_pass

views:
  total_signups:
    plugin: single_stat
    title: Total signups
    args:
      datasource: db
      query: |
        select count(*) from reportcard.signups
        where created_at >= {from} and created_at < {to}
